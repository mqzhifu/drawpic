<mxfile host="app.diagrams.net" modified="2021-03-03T09:54:31.506Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36" etag="jfTOgdbax3b-j1VM_92P" version="14.4.3" type="github">
  <diagram id="ioyhoYi3yUCj3TehJ-Bd" name="Page-1">
    <mxGraphModel dx="1426" dy="703" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-3" value="开发者" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="380" y="30" width="680" height="170" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-4" value="" style="shape=actor;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="20" y="40" width="40" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-5" value="" style="shape=actor;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="140" y="40" width="40" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-6" value="" style="shape=actor;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="260" y="40" width="40" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-7" value="" style="shape=actor;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="360" y="40" width="40" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-8" value="" style="shape=actor;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="460" y="40" width="40" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-9" value="" style="shape=actor;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="620" y="40" width="40" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-66" value="创建协程" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-3">
          <mxGeometry x="20" y="120" width="640" height="30" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-28" value="global--machine-list" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="387" y="760" width="680" height="340" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-30" value="&lt;span style=&quot;text-align: left&quot;&gt;machine-2&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-28">
          <mxGeometry x="303" y="60" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-31" value="&lt;span style=&quot;text-align: left&quot;&gt;machine-3&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-28">
          <mxGeometry x="573" y="60" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-60" value="休眠队列" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-28">
          <mxGeometry x="563" y="200" width="110" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-61" value="machine-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-60">
          <mxGeometry y="26" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-62" value="machine-2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;spacingBottom=-1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-60">
          <mxGeometry y="52" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-63" value="machine-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-60">
          <mxGeometry y="78" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-64" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-60">
          <mxGeometry y="104" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-160" value="machine-1" style="swimlane;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-28">
          <mxGeometry x="30" y="49" width="130" height="190" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-161" value="&lt;span style=&quot;text-align: left&quot;&gt;schedule()&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-160">
          <mxGeometry x="22" y="40" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-33" value="work stealing机制" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1770" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-34" value="hand off机制" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-35" value="global-process-list" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="387" y="300" width="700" height="360" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-10" value="process-1" style="swimlane;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-35">
          <mxGeometry x="10" y="60" width="160" height="280" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-11" value="local run queue" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-10">
          <mxGeometry x="40" y="50" width="110" height="156" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-12" value="gorutine-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-11">
          <mxGeometry y="26" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-13" value="gorutine-2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-11">
          <mxGeometry y="52" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-14" value="gorutine-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-11">
          <mxGeometry y="78" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-15" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-11">
          <mxGeometry y="104" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-16" value="gorutine-256" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-11">
          <mxGeometry y="130" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-40" value="process-2" style="swimlane;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-35">
          <mxGeometry x="260" y="50" width="160" height="280" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-41" value="local run queue" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-40">
          <mxGeometry x="40" y="50" width="110" height="156" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-42" value="gorutine-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-41">
          <mxGeometry y="26" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-43" value="gorutine-2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-41">
          <mxGeometry y="52" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-44" value="gorutine-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-41">
          <mxGeometry y="78" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-45" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-41">
          <mxGeometry y="104" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-46" value="gorutine-256" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-41">
          <mxGeometry y="130" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-47" value="process-3" style="swimlane;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-35">
          <mxGeometry x="520" y="60" width="160" height="280" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-48" value="local run queue" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-47">
          <mxGeometry x="40" y="50" width="110" height="156" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-49" value="gorutine-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-48">
          <mxGeometry y="26" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-50" value="gorutine-2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-48">
          <mxGeometry y="52" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-51" value="gorutine-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-48">
          <mxGeometry y="78" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-52" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-48">
          <mxGeometry y="104" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-53" value="gorutine-256" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-48">
          <mxGeometry y="130" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-67" value="OS" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="1840" width="673" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-69" value="prcoess虚拟绑定machine&lt;br&gt;1v1" style="shape=ext;rounded=1;html=1;whiteSpace=wrap;dashed=1;dashPattern=1 4;" vertex="1" parent="1">
          <mxGeometry x="387" y="700" width="673" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-79" value="go run main.go" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="10" y="30" width="230" height="1690" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-80" value="创建M0主线程" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="40" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-81" value="创建G0协程" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="96" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-82" value="M0绑定G0" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="160" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-87" value="schedinit" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="240" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-91" value="newproc()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="370" width="150" height="234" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-92" value="创建一个协程" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="26" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-93" value="gfget获取当前执行G" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="52" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-95" value="找一个P~g.m.p" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="78" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-96" value="从P的LRQ中找一个未使用G" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="104" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-97" value="new一个G结构体" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="130" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-105" value="初始化新的G结构体" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="156" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-107" value="分配-堆内存" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="182" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-106" value="将新G加入到全局allgadd" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-91">
          <mxGeometry y="208" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-108" value="上面就是一个协程创建完成&lt;br&gt;感觉就是开辟内存、生成上下文栈/参数信息、设置执行函数地址、选择P、加入到P的队列中，等待调度" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="620" width="160" height="85.5" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-89" value="&lt;span&gt;newproc()&lt;/span&gt;&lt;br&gt;runtime.main" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="300" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-109" value="mstart()" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="10" y="730" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-120" value="schedule()" style="swimlane;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="30" y="790" width="150" height="310" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-121" value="每61次，从&lt;br&gt;GRQ中找一个G" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-120">
          <mxGeometry x="15" y="40" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-122" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;从M绑定的P的LRQ中找一个G&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-120">
          <mxGeometry x="15" y="170" width="90" height="51.5" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-123" value="从其它的P的&lt;br&gt;LRQ中找一个G" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-120">
          <mxGeometry x="15" y="100" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-124" value="&lt;div style=&quot;text-align: left&quot;&gt;execute(G)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-120">
          <mxGeometry x="15" y="240" width="90" height="51.5" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-130" value="runtime.main()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="45" y="1178" width="155" height="208" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-131" value="TMD，终于到这个函数了" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="26" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-132" value="创建sysmon线程" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="52" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-133" value="runtime_init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="78" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-138" value="gcenable" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="104" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-139" value="main_init" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="130" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-140" value="main_main" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="156" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-141" value="exit" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-130">
          <mxGeometry y="182" width="155" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-143" value="goexit" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="40" y="1450" width="160" height="182" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-144" value="切回到G0协程" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-143">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-145" value="把原G状态-变更:_Gdead" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-143">
          <mxGeometry y="52" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-146" value="把原G成员变量值清0" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-143">
          <mxGeometry y="78" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-147" value="解除M-G关系" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-143">
          <mxGeometry y="104" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-153" value="把G放入P的FREE队列中" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-143">
          <mxGeometry y="130" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-154" value="schedule()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-143">
          <mxGeometry y="156" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-164" value="G0主要是开一个栈空，供runtime.main执行" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="110" y="96" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-166" value="看源码大部分操作都是基于G，由G反查M和P，所以得绑定" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="110" y="160" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-190" value="&lt;span&gt;初始化M0和G0&lt;/span&gt;&lt;br&gt;&lt;span&gt;创建P-LIST&lt;/span&gt;&lt;br&gt;&lt;span&gt;初始化schedt&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-79">
          <mxGeometry x="110" y="240" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-83" value="G0协程是个关键，当一个协程在M上执行完后，首先会切到G0，由G0去寻找P" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="267" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-167" value="schedt" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="1120" y="210" width="330" height="394" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-168" value="machine-idle" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-167">
          <mxGeometry x="20" y="38" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-169" value="mathine-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-168">
          <mxGeometry y="26" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-170" value="mathine-2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-168">
          <mxGeometry y="52" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-171" value="mathine-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-168">
          <mxGeometry y="78" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-173" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-168">
          <mxGeometry y="104" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-174" value="process-idle" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-167">
          <mxGeometry x="157" y="38" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-175" value="process-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-174">
          <mxGeometry y="26" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-176" value="process-2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-174">
          <mxGeometry y="52" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-177" value="process-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-174">
          <mxGeometry y="78" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-178" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-174">
          <mxGeometry y="104" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-179" value="global-run-queue" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-167">
          <mxGeometry x="20" y="190" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-180" value="goroutine" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-179">
          <mxGeometry y="26" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-181" value="goroutine" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-179">
          <mxGeometry y="52" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-182" value="goroutine" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-179">
          <mxGeometry y="78" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-183" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-179">
          <mxGeometry y="104" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-184" value="goroutine-free" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-167">
          <mxGeometry x="157" y="190" width="110" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-185" value="goroutine" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-184">
          <mxGeometry y="26" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-186" value="goroutine" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-184">
          <mxGeometry y="52" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-187" value="goroutine" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-184">
          <mxGeometry y="78" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YsYjQOcs5sEfoHpkuTJx-188" value="..." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="YsYjQOcs5sEfoHpkuTJx-184">
          <mxGeometry y="104" width="110" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
